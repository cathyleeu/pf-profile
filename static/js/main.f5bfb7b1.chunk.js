(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,a,t){e.exports=t(19)},17:function(e,a,t){},18:function(e,a,t){},19:function(e,a,t){"use strict";t.r(a);var n,l=t(0),i=t.n(l),r=t(4),s=t.n(r),o=(t(17),t(5)),c=t(2),d=t(6),m=t(7),p=t(9),u=t(8),f=t(10),v=t(1),g=(t(18),function(e){return e.imageUrl?(console.log("I got imageUrl"),i.a.createElement("img",{className:"inner-image",src:e.imageUrl,alt:"userImage"})):i.a.createElement("p",{className:"circle-inner-text"},e.text)}),h=function(e){var a={default:e.isHandleEdit,select:e.isRenderModal};return i.a.createElement("div",{className:"inner-circle-border"},i.a.createElement("div",{className:"inner-circle",onClick:a[e.innerStatus]},e.children))},y=function(e){var a={display:e.isOpen?"":"none"};return i.a.createElement("div",{className:"modal-cont",style:a},i.a.createElement("div",{className:"modal-select-box"},e.children))},b=function(e){return i.a.createElement("div",{className:"select-button",onClick:function(){return e.isHandleClick(e.purpose)}},i.a.createElement("p",null,e.text))},E=320,C=0,D=!1,S=function(e){function a(){var e;return Object(d.a)(this,a),(e=Object(p.a)(this,Object(u.a)(a).call(this))).defaultState={file:"",imagePreviewUrl:"",imageSelected:"",modalVisible:!1,cameraVisible:!1,canvas:"none",takeAfter:"none",takeBefore:""},e.isHandleEdit=function(a){a.preventDefault(),console.log("clicked"),e.setState({edit:!e.state.edit,innerStatus:"select"})},e.isRenderModal=function(){console.log("rendal modal"),e.setState({modal:!e.state.modal,selectType:"default"})},e.isHandleInnerStatus=function(a){e.setState({innerStatus:a})},e.isHandleSelectType=function(a){e.setState({selectType:a}),"camera"!==a?"cameraCancle"!==a?console.log("is selected ".concat(a)):e.handleCloseCamera(e.state.video):e.handleStartCamera()},e.isHandleChange=function(a){a.preventDefault(),console.log(a.target.value),e.setState(Object(c.a)({},a.target.name,a.target.value))},e.handleStartCamera=function(){console.log("handleStartCamera");var a=e.refs.video,t=e.refs.canvas,n=e.refs.startbutton;navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getMedia({video:!0,audio:!1},function(e){navigator.mozGetUserMedia?a.mozSrcObject=e:a.srcObject=e,a.play()},function(e){console.log("An error occured! "+e)}),a.addEventListener("canplay",function(){return e.handleCanPlay(a)},!1),n.addEventListener("click",function(){return e.handleTakePicture(t,a)},!1),e.setState({video:a})},e.handleCloseCamera=function(e){e.srcObject.getTracks().forEach(function(e){return e.stop()})},e.handleCanPlay=function(e){console.log("handleCanPlay"),D||(C=e.videoHeight/(e.videoWidth/E),isNaN(C)&&(C=E/(4/3)),D=!0)},e.isHandleReadFile=function(a){console.log("isHandleReadFile"),a.preventDefault(),e.setState({cropDisplay:"",dropDisplay:"none"}),e.refs.libBtm.style.marginTop="2vmin";var t=Object(v.a)(Object(v.a)(e)),n=a.target.dataset.purpose||"camera",l=a.target.files||a.dataTransfer.files;if(l&&l[0].type.includes("image")){var i=new FileReader;i.onload=function(e){var l=e.target.result;t.setState({imagePreviewUrl:l}),"library"===n&&t.renderCropImage(a,l)},i.readAsDataURL(l[0])}},e.isHandleDragEnter=function(e){e.preventDefault(),e.stopPropagation()},e.isHandleDragOver=function(e){e.preventDefault(),e.stopPropagation(),"lib-readfile"===e.target.className&&(e.target.className="lib-readfile drag-over")},e.isHandleDragLeave=function(e){e.preventDefault(),e.stopPropagation(),"lib-readfile drag-over"===e.target.className&&(e.target.className="lib-readfile")},e.isHandleDrop=function(a){a.preventDefault(),a.stopPropagation(),e.isHandleReadFile(a)},e.renderCropImage=function(a,t){if(t){var l={viewport:{width:180,height:180,type:"circle"},url:t};n=new window.Croppie(e.refs.lib,l)}},e.isHandleCrop=function(a){a.preventDefault();var t=Object(v.a)(Object(v.a)(e));n.result({type:"rawcanvas",circle:!0,format:"png"}).then(function(e){t.setState({imagePreviewUrl:e.toDataURL(),modal:!1,cropDisplay:"none"}),n.destroy()})},e.state={name:"",edit:!1,innerStatus:"default",modal:!1,selectType:"default",canvas:"none",video:"",cropNode:"",cropDisplay:"none",dropDisplay:""},e.editStatus={true:{slide:"edit-start",fadeTitle:"fade-out",fadeInput:"fade-in",innerText:"Click to take a photo"},false:{slide:"edit-end",fadeTitle:"fade-in",fadeInput:"fade-out",innerText:"Edit"}},e.selectStatus={default:{camera:"",library:""},camera:{camera:"open",library:""},library:{camera:"",library:"open"},cameraCancle:{camera:"close",library:""},libCancle:{camera:"",library:"close"}},e}return Object(f.a)(a,e),Object(m.a)(a,[{key:"componentWillMount",value:function(){this.setState(Object(o.a)({},this.defaultState))}},{key:"handleTakePicture",value:function(e,a){console.log("handleTakePicture");var t,n=e.getContext("2d");E&&C?(console.log(E,C),e.width=E,e.height=C,n.drawImage(a,0,0,E,C),t=e.toDataURL("image/png"),console.log(t)):console.log("handleClear"),this.setState({imagePreviewUrl:t,canvas:"",takeAfter:"",takeBefore:"none",modal:!1}),this.handleCloseCamera(a)}},{key:"render",value:function(){var e=this,a=this.editStatus[this.state.edit],t=a.slide,n=a.fadeTitle,l=a.innerText,r=this.selectStatus[this.state.selectType],s=r.camera,o=r.library;return i.a.createElement("div",{className:"App"},i.a.createElement(y,{isOpen:this.state.modal},i.a.createElement(b,{isHandleClick:this.isHandleSelectType,text:"Take a photo",purpose:"camera"}),i.a.createElement(b,{isHandleClick:this.isHandleSelectType,text:"Choose from library",purpose:"library"}),i.a.createElement(b,{isHandleClick:this.isRenderModal,text:"Cancle"}),i.a.createElement("div",{className:"selected-temp"},i.a.createElement("div",{className:"photo-comp ".concat(s)},i.a.createElement("div",{className:"photo-comp-top"},i.a.createElement("video",{ref:"video"},"Video stream not available."),i.a.createElement("canvas",{ref:"canvas",className:"canvas",style:{display:this.state.canvas}})),i.a.createElement("div",{className:"photo-comp-btm"},i.a.createElement("p",{onClick:function(){return e.isHandleSelectType("cameraCancle")}},"Cancle"),i.a.createElement("div",{ref:"startbutton"}))),i.a.createElement("div",{className:"lib-comp ".concat(o)},i.a.createElement("input",{ref:"upload",type:"file",name:"files[]",accept:".jpg, .jpeg, .png","data-purpose":"library",onChange:this.isHandleReadFile,style:{display:"none"}}),i.a.createElement("div",{className:"lib-readfile","data-purpose":"library",onDragEnter:this.isHandleDragEnter,onDragOver:this.isHandleDragOver,onDragLeave:this.isHandleDragLeave,onDrop:this.isHandleDrop},i.a.createElement("p",{style:{display:"".concat(this.state.dropDisplay)}},"Drag & Drop"),i.a.createElement("p",{style:{display:"".concat(this.state.dropDisplay)},className:"file-open-btn",onClick:function(){return e.refs.upload.click()}}," Click here to browse "),i.a.createElement("div",{ref:"lib",style:{display:"".concat(this.state.cropDisplay)}})),i.a.createElement("div",{className:"lib-btm",ref:"libBtm"},i.a.createElement("p",{className:"cancle-btn",onClick:function(){return e.isHandleSelectType("libCancle")}},i.a.createElement("span",null,"Cancle")),i.a.createElement("p",{className:"cancle-btn",style:{display:"".concat(this.state.cropDisplay)},onClick:function(a){return e.isHandleCrop(a)}},"Crop"))))),i.a.createElement("div",{className:"edit-component"},i.a.createElement("p",{className:"title-cont ".concat(t," ").concat(n)},"Edit Your Profile"),i.a.createElement("div",{className:"image-cont ".concat(t)},i.a.createElement(h,{isHandleEdit:this.isHandleEdit,isRenderModal:this.isRenderModal,innerStatus:this.state.innerStatus}),i.a.createElement(g,{imageUrl:this.state.imagePreviewUrl,text:l}))))}}]),a}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.f5bfb7b1.chunk.js.map